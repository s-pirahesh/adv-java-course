<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ù…Ø­ØªÙˆØ§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø¬Ø§Ù…Ø¹ Ø¯Ø±Ø³ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ (Ø¬Ø§ÙˆØ§) - Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡ Ø¢Ø²Ø§Ø¯ ØªØ¨Ø±ÛŒØ²">
    <meta name="author" content="Ø³ÛŒØ¯ Ø³Ø¬Ø§Ø¯ Ù¾ÛŒØ±Ø§Ù‡Ø´">
    <title>Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ (Ø¬Ø§ÙˆØ§) - Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡ Ø¢Ø²Ø§Ø¯ ØªØ¨Ø±ÛŒØ²</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Vazirmatn', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .phase-card {
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .phase-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        
        .phase-card.phase-1 { border-color: #14B8A6; }
        .phase-card.phase-2 { border-color: #0EA5E9; }
        .phase-card.phase-3 { border-color: #8B5CF6; }
        .phase-card.phase-4 { border-color: #10B981; }
        .phase-card.phase-5 { border-color: #F59E0B; }
        
        .part-link {
            transition: all 0.2s ease;
        }
        
        .part-link:hover {
            transform: translateX(-5px);
            background: #F3F4F6;
        }
        
        .part-link.completed {
            background: #ECFDF5;
            border-right: 4px solid #10B981;
        }
        
        .part-link.locked {
            opacity: 0.5;
            pointer-events: none;
            cursor: not-allowed;
        }
        
        .checkpoint-badge {
            background: linear-gradient(135deg, #F59E0B, #EF4444);
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .progress-bar {
            transition: width 1s ease-out;
        }
        
        /* Toggle Switch Styles */
        .control-panel {
            display: flex;
            gap: 1rem;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid #e5e7eb;
        }
        
        .toggle-container {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1.25rem;
            background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
        }
        
        .toggle-container:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .toggle-container.unlocked {
            background: linear-gradient(135deg, #d1fae5, #a7f3d0);
        }
        
        .toggle-switch {
            position: relative;
            width: 56px;
            height: 28px;
            background: #9ca3af;
            border-radius: 14px;
            transition: all 0.3s ease;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .toggle-switch.active {
            background: linear-gradient(135deg, #10b981, #059669);
        }
        
        .toggle-slider {
            position: absolute;
            top: 2px;
            right: 2px;
            width: 24px;
            height: 24px;
            background: white;
            border-radius: 50%;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .toggle-switch.active .toggle-slider {
            transform: translateX(-28px);
        }
        
        .toggle-icon {
            font-size: 1.25rem;
            transition: all 0.3s ease;
        }
        
        .toggle-label {
            font-weight: 600;
            color: #374151;
            font-size: 0.95rem;
        }
        
        .reset-btn {
            padding: 0.75rem 1.25rem;
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.95rem;
        }
        
        .reset-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
        }
    </style>
</head>
<body class="antialiased">

<div class="min-h-screen flex items-center justify-center p-4 md:p-8">
    <div class="w-full max-w-7xl">
        
        <!-- Header -->
        <header class="glass-card rounded-2xl shadow-2xl p-8 md:p-12 mb-8">
            <div class="flex flex-col md:flex-row items-center justify-between gap-6">
                <div class="text-center md:text-right">
                    <h1 class="text-4xl md:text-5xl font-bold text-gray-800 mb-3">
                        Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡
                        <span class="text-purple-600">(Ø¬Ø§ÙˆØ§)</span>
                    </h1>
                    <p class="text-xl text-gray-600 mb-2">Ù…Ø¯Ø±Ø³: Ø³ÛŒØ¯ Ø³Ø¬Ø§Ø¯ Ù¾ÛŒØ±Ø§Ù‡Ø´</p>
                    <p class="text-gray-500">Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡ Ø¢Ø²Ø§Ø¯ Ø§Ø³Ù„Ø§Ù…ÛŒ ÙˆØ§Ø­Ø¯ ØªØ¨Ø±ÛŒØ²</p>
                </div>
                <div class="text-center">
                    <div class="w-32 h-32 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center text-white text-5xl font-bold shadow-xl">
                        J
                    </div>
                </div>
            </div>
            
            <!-- Overall Progress -->
            <div class="mt-8 pt-6 border-t border-gray-200">
                <div class="flex items-center justify-between mb-2">
                    <span class="text-sm font-semibold text-gray-700">Ù¾ÛŒØ´Ø±ÙØª Ú©Ù„ÛŒ</span>
                    <span class="text-sm font-bold text-purple-600" id="progressText">Û° Ø§Ø² Û²Û° Ø¨Ø®Ø´ (Û°Ùª)</span>
                </div>
                <div class="w-full h-4 bg-gray-200 rounded-full overflow-hidden">
                    <div class="progress-bar h-full bg-gradient-to-r from-purple-500 to-pink-500 rounded-full" id="progressBar" style="width: 0%"></div>
                </div>
                <p class="text-xs text-gray-500 mt-2 text-center" id="checkpointText">âœ… Û° Checkpoint ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡ Ø§Ø² Ûµ</p>
            </div>
            
            <!-- Control Panel -->
            <div class="control-panel">
                <div class="toggle-container" id="toggleContainer" onclick="toggleLock()">
                    <span class="toggle-icon" id="toggleIcon">ğŸ”’</span>
                    <div class="toggle-switch" id="toggleSwitch">
                        <div class="toggle-slider"></div>
                    </div>
                    <span class="toggle-label" id="toggleLabel">Ø¯Ø³ØªØ±Ø³ÛŒ ØªØ±ØªÛŒØ¨ÛŒ</span>
                </div>
                
                <button class="reset-btn" onclick="resetProgress()">
                    ğŸ”„ Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯
                </button>
            </div>
        </header>

        <!-- Phases -->
        <div class="space-y-6" id="phasesContainer">
            <!-- Will be generated by JavaScript -->
        </div>

        <!-- Footer -->
        <footer class="glass-card rounded-2xl shadow-xl p-6 mt-8 text-center">
            <p class="text-gray-600 mb-2">
                <strong>ğŸ“š ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„ Ø¨Ø®Ø´â€ŒÙ‡Ø§:</strong> Û²Û° Ø¨Ø®Ø´ Ø¢Ù…ÙˆØ²Ø´ÛŒ + Ûµ Checkpoint Ø¹Ù…Ù„ÛŒ
            </p>
            <p class="text-gray-600 mb-4">
                <strong>â±ï¸ Ø²Ù…Ø§Ù† ØªØ®Ù…ÛŒÙ†ÛŒ:</strong> Ø­Ø¯ÙˆØ¯ ÛµÛ° Ø³Ø§Ø¹Øª Ù…Ø·Ø§Ù„Ø¹Ù‡ Ùˆ ØªÙ…Ø±ÛŒÙ†
            </p>
            <p class="text-sm text-gray-500">
                Â© Û±Û´Û°Û´ - Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡ Ø¢Ø²Ø§Ø¯ Ø§Ø³Ù„Ø§Ù…ÛŒ ÙˆØ§Ø­Ø¯ ØªØ¨Ø±ÛŒØ² - ØªÙ…Ø§Ù…ÛŒ Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª
            </p>
        </footer>

    </div>
</div>

<script>
// Course data
const PARTS = [
    {num: 1, title: 'Ø§Ø² Ù¾Ø§Ø±Ø§Ø¯Ø§ÛŒÙ… ØªØ§ Ø¨Ø§ÛŒØªâ€ŒÚ©Ø¯', phase: 1},
    {num: 2, title: 'Ø§Ù†ÙˆØ§Ø¹ Ø¯Ø§Ø¯Ù‡ Ùˆ Ø­Ø§ÙØ¸Ù‡', phase: 1},
    {num: 3, title: 'static Ùˆ final', phase: 1},
    {num: 4, title: 'Ø¢Ø±Ø§ÛŒÙ‡â€ŒÙ‡Ø§', phase: 1},
    {num: 5, title: 'Ù…ØªØ¯Ù‡Ø§', phase: 1},
    {num: 6, title: 'Ø³Ø§Ø²Ù†Ø¯Ù‡â€ŒÙ‡Ø§ Ùˆ this', phase: 1},
    {num: 7, title: 'Ù¾Ú©ÛŒØ¬â€ŒØ¨Ù†Ø¯ÛŒ', phase: 1},
    {num: 8, title: 'ØªÙÚ©Ø± Ø´ÛŒØ¡Ú¯Ø±Ø§', phase: 2},
    {num: 9, title: 'Ù…Ø¨Ø§Ù†ÛŒ UML', phase: 2},
    {num: 10, title: 'Ø±ÙˆØ§Ø¨Ø· Ø¯Ø± UML', phase: 2},
    {num: 11, title: 'Ø§Ø±Ø«â€ŒØ¨Ø±ÛŒ', phase: 3},
    {num: 12, title: 'Upcasting Ùˆ Downcasting', phase: 3},
    {num: 13, title: 'Ø¨Ø§Ø²Ù†ÙˆÛŒØ³ÛŒ Ù…ØªØ¯Ù‡Ø§', phase: 3},
    {num: 14, title: 'Ú†Ù†Ø¯Ø±ÛŒØ®ØªÛŒ', phase: 3},
    {num: 15, title: 'Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ÛŒ Ø§Ù†ØªØ²Ø§Ø¹ÛŒ', phase: 4},
    {num: 16, title: 'Ø±Ø§Ø¨Ø·â€ŒÙ‡Ø§', phase: 4},
    {num: 17, title: 'ØªÚ©Ø§Ù…Ù„ Ø·Ø±Ø§Ø­ÛŒ', phase: 4},
    {num: 18, title: 'Collections Framework', phase: 5},
    {num: 19, title: 'Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ø³ØªØ«Ù†Ø§Ù‡Ø§', phase: 5},
    {num: 20, title: 'Enum Types', phase: 5}
];

const PHASES = [
    {num: 1, title: 'Ù…Ø¨Ø§Ù†ÛŒ Ùˆ Ù¾Ø§ÛŒÙ‡â€ŒÙ‡Ø§', desc: 'Ø¢Ø´Ù†Ø§ÛŒÛŒ Ø¨Ø§ Ù…ÙØ§Ù‡ÛŒÙ… Ù¾Ø§ÛŒÙ‡ Ø¬Ø§ÙˆØ§ Ùˆ Ø³Ø§Ø®ØªØ§Ø±Ù‡Ø§ÛŒ Ø¯Ø§Ø¯Ù‡'},
    {num: 2, title: 'ØªÙÚ©Ø± Ø´ÛŒØ¡Ú¯Ø±Ø§', desc: 'ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ø§ØµÙˆÙ„ Ø·Ø±Ø§Ø­ÛŒ Ø´ÛŒØ¡Ú¯Ø±Ø§ Ùˆ UML'},
    {num: 3, title: 'Ø§Ø±Ø«â€ŒØ¨Ø±ÛŒ Ùˆ Ú†Ù†Ø¯Ø±ÛŒØ®ØªÛŒ', desc: 'Ù…ÙØ§Ù‡ÛŒÙ… Ù¾ÛŒØ´Ø±ÙØªÙ‡ OOP'},
    {num: 4, title: 'Ø§Ù†ØªØ²Ø§Ø¹', desc: 'Abstract Classes Ùˆ Interfaces'},
    {num: 5, title: 'Ù…ÙˆØ¶ÙˆØ¹Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡', desc: 'Collections, Exceptions Ùˆ Enums'}
];

// Persian numbers
const toPersian = (num) => {
    const p = ['Û°','Û±','Û²','Û³','Û´','Ûµ','Û¶','Û·','Û¸','Û¹'];
    return String(num).split('').map(d => p[d] || d).join('');
};

// LocalStorage functions
function getCompletedParts() {
    const stored = localStorage.getItem('completedParts');
    return stored ? JSON.parse(stored) : [];
}

function isPartCompleted(partNum) {
    return getCompletedParts().includes(partNum);
}

function isUnlocked() {
    return localStorage.getItem('unlocked') === 'true';
}

function isPartAccessible(partNum) {
    if (isUnlocked()) return true;
    if (partNum === 1) return true;
    return isPartCompleted(partNum - 1);
}

// Toggle lock/unlock
function toggleLock() {
    const currentState = isUnlocked();
    const newState = !currentState;
    
    if (newState) {
        // Unlocking
        localStorage.setItem('unlocked', 'true');
        updateToggleUI(true);
    } else {
        // Locking
        localStorage.removeItem('unlocked');
        updateToggleUI(false);
    }
    
    generatePhases();
}

function updateToggleUI(unlocked) {
    const container = document.getElementById('toggleContainer');
    const switchEl = document.getElementById('toggleSwitch');
    const icon = document.getElementById('toggleIcon');
    const label = document.getElementById('toggleLabel');
    
    if (unlocked) {
        container.classList.add('unlocked');
        switchEl.classList.add('active');
        icon.textContent = 'ğŸ”“';
        label.textContent = 'Ø¯Ø³ØªØ±Ø³ÛŒ Ø¢Ø²Ø§Ø¯';
    } else {
        container.classList.remove('unlocked');
        switchEl.classList.remove('active');
        icon.textContent = 'ğŸ”’';
        label.textContent = 'Ø¯Ø³ØªØ±Ø³ÛŒ ØªØ±ØªÛŒØ¨ÛŒ';
    }
}

// Reset progress
function resetProgress() {
    if (confirm('Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ù¾ÛŒØ´Ø±ÙØª Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø² Ù†Ùˆ Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒØ¯ØŸ')) {
        localStorage.removeItem('completedParts');
        localStorage.removeItem('unlocked');
        location.reload();
    }
}

// Update progress bar
function updateProgress() {
    const completed = getCompletedParts().length;
    const total = 20;
    const percentage = Math.round((completed / total) * 100);
    
    document.getElementById('progressText').textContent = 
        `${toPersian(completed)} Ø§Ø² ${toPersian(total)} Ø¨Ø®Ø´ (${toPersian(percentage)}Ùª)`;
    
    document.getElementById('progressBar').style.width = percentage + '%';
    
    const checkpoints = Math.floor(completed / 4);
    document.getElementById('checkpointText').textContent = 
        `âœ… ${toPersian(checkpoints)} Checkpoint ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡ Ø§Ø² Ûµ`;
}

// Generate phases
function generatePhases() {
    const container = document.getElementById('phasesContainer');
    container.innerHTML = '';
    
    PHASES.forEach(phase => {
        const phaseParts = PARTS.filter(p => p.phase === phase.num);
        const phaseDiv = document.createElement('div');
        phaseDiv.className = `glass-card rounded-2xl shadow-xl p-6 md:p-8 phase-card phase-${phase.num}`;
        
        const completed = phaseParts.filter(p => isPartCompleted(p.num)).length;
        const total = phaseParts.length;
        
        let partsHTML = '<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">';
        
        phaseParts.forEach(part => {
            const accessible = isPartAccessible(part.num);
            const completedClass = isPartCompleted(part.num) ? 'completed' : '';
            const lockedClass = !accessible ? 'locked' : '';
            
            partsHTML += `
                <a href="parts/part${String(part.num).padStart(2, '0')}.html" 
                   class="part-link ${completedClass} ${lockedClass} block p-4 bg-white rounded-lg border border-gray-200">
                    <div class="flex items-center gap-3">
                        <span class="flex-shrink-0 w-8 h-8 ${isPartCompleted(part.num) ? 'bg-teal-500' : 'bg-gray-300'} ${isPartCompleted(part.num) ? 'text-white' : 'text-gray-600'} rounded-lg flex items-center justify-center font-bold text-sm">${toPersian(part.num)}</span>
                        <span class="text-sm font-medium text-gray-700">${part.title}</span>
                    </div>
                </a>
            `;
        });
        
        partsHTML += '</div>';
        
        phaseDiv.innerHTML = `
            <div class="flex items-center gap-4 mb-6">
                <div class="w-16 h-16 bg-teal-500 rounded-xl flex items-center justify-center text-white text-2xl font-bold shadow-lg">
                    ${toPersian(phase.num)}
                </div>
                <div class="flex-1">
                    <h2 class="text-2xl md:text-3xl font-bold text-gray-800">ÙØ§Ø² ${toPersian(phase.num)}: ${phase.title}</h2>
                    <p class="text-gray-600 mt-1">${phase.desc}</p>
                </div>
                <div class="text-left">
                    <span class="inline-block px-4 py-2 ${completed > 0 ? 'bg-teal-100 text-teal-700' : 'bg-gray-100 text-gray-500'} rounded-lg font-bold text-sm">
                        ${toPersian(completed)} / ${toPersian(total)} Ø¨Ø®Ø´ ${completed > 0 ? 'âœ“' : ''}
                    </span>
                </div>
            </div>
            ${partsHTML}
        `;
        
        container.appendChild(phaseDiv);
    });
}

// Initialize
window.addEventListener('load', () => {
    updateToggleUI(isUnlocked());
    generatePhases();
    updateProgress();
    
    setTimeout(() => {
        const completed = getCompletedParts().length;
        const percentage = Math.round((completed / 20) * 100);
        document.getElementById('progressBar').style.width = percentage + '%';
    }, 300);
});
</script>

</body>
</html>
